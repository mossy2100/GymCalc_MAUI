<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="GymCalc.Pages.CalculatorPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:app="clr-namespace:GymCalc"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="Calculator">

    <ScrollView>
        <StackLayout
            x:Name="CalculatorLayout"
            Padding="{x:Static app:App.Padding}"
            Orientation="Vertical"
            Spacing="{x:Static app:App.DoubleSpacing}">

            <VerticalStackLayout x:Name="CalculatorForm" Spacing="{x:Static app:App.Spacing}">

                <!--  Exercise type selection  -->
                <Grid
                    ColumnDefinitions="*,*"
                    ColumnSpacing="{x:Static app:App.Spacing}"
                    RowDefinitions="Auto,Auto"
                    RowSpacing="{x:Static app:App.Spacing}">

                    <Label
                        Grid.Row="0"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Text="Select exercise type:" />
                    <Button
                        x:Name="BarbellButton"
                        Grid.Row="1"
                        Grid.Column="0"
                        Clicked="OnBarbellButtonClicked"
                        Style="{StaticResource BarbellButtonStyle}"
                        Text="Barbell" />
                    <Button
                        x:Name="DumbbellButton"
                        Grid.Row="1"
                        Grid.Column="1"
                        Clicked="OnDumbbellButtonClicked"
                        Style="{StaticResource DumbbellButtonStyle}"
                        Text="Dumbbell" />
                </Grid>

                <!--  Calculator form  -->
                <Grid
                    x:Name="CalculatorFormGrid"
                    ColumnDefinitions="2*,*"
                    ColumnSpacing="{x:Static app:App.Spacing}"
                    RowDefinitions="Auto,Auto"
                    RowSpacing="{x:Static app:App.Spacing}">

                    <!--  Row 0: Max weight  -->
                    <Label
                        x:Name="MaxWeightLabel"
                        Grid.Row="0"
                        Grid.Column="0"
                        FontSize="16"
                        LineBreakMode="WordWrap"
                        Text="Maximum weight (kg)"
                        VerticalTextAlignment="Center" />
                    <Frame
                        Grid.Row="0"
                        Grid.Column="1"
                        Style="{StaticResource ControlFrameStyle}">
                        <Entry
                            x:Name="MaxWeightEntry"
                            BackgroundColor="{AppThemeBinding Light={StaticResource Secondary},
                                                              Dark={StaticResource Tertiary}}"
                            FontSize="16"
                            Keyboard="Numeric"
                            VerticalTextAlignment="Center" />
                    </Frame>

                    <!--  Row 1: Bar weight  -->
                    <Label
                        x:Name="BarWeightLabel"
                        Grid.Row="1"
                        Grid.Column="0"
                        FontSize="16"
                        Text="Bar weight (kg)"
                        VerticalTextAlignment="Center" />
                    <Frame
                        x:Name="BarWeightPickerFrame"
                        Grid.Row="1"
                        Grid.Column="1"
                        Style="{StaticResource ControlFrameStyle}">
                        <Picker
                            x:Name="BarWeightPicker"
                            BackgroundColor="{AppThemeBinding Light={StaticResource Secondary},
                                                              Dark={StaticResource Tertiary}}"
                            FontSize="16"
                            VerticalTextAlignment="Center" />
                    </Frame>
                </Grid>

                <!--  Calculate button  -->
                <Button
                    Clicked="OnCalculateButtonClicked"
                    Style="{StaticResource ButtonStyle}"
                    Text="Calculate" />

                <!--  Error message  -->
                <Label
                    x:Name="ErrorMessage"
                    Padding="0"
                    FontAttributes="Bold"
                    FontSize="16"
                    Text=""
                    TextColor="Red" />
            </VerticalStackLayout>

            <VerticalStackLayout x:Name="CalculatorResults" />

        </StackLayout>
    </ScrollView>
</ContentPage>
